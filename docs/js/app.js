(function(t){function e(e){for(var o,c,s=e[0],i=e[1],m=e[2],u=0,d=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,m||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/frontend-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var m=0;m<s.length;m++)e(s[m]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"167f":function(t,e,n){"use strict";var o=n("a98d"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{staticClass:"durations-4s",attrs:{"enter-active-class":"animated slideInRight","leave-active-class":"animated slideOutLeft",mode:"out-in"}},[n("router-view",{staticStyle:{"animation-duration":"0.4s"}})],1)],1)},a=[],c={created:function(){this.$store.dispatch("GET_COMMENTS")},data:function(){return{transitionName:"slide-right"}}},s=c,i=(n("5c0b"),n("2877")),m=Object(i["a"])(s,r,a,!1,null,null,null),l=m.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments-list"},[n("p",{staticClass:"orange header"},[t._v("Отзывы магазина")]),n("button",{staticClass:"btn btn-light bordered-item",on:{click:t.newComment}},[t._v("Написать отзыв")]),n("div",{staticClass:"list"},t._l(t.comments,(function(t,e){return n("comment-prev",{key:e,attrs:{comment:t}})})),1)])},f=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-prev"},[n("p",{staticClass:"header"},[t._v(t._s(t.comment.nickname))]),n("span",{staticClass:"date"},[t._v(t._s(t.comment.date.getDate())+"."+t._s(t.comment.date.getMonth()+1)+"."+t._s(t.comment.date.getFullYear()))]),n("div",{staticClass:"stars"},t._l(5,(function(e){return n("svg",{staticClass:"star",attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{class:{"fill-star":e<=t.comment.rating},attrs:{d:"M9.07668 1.21993C9.41827 0.398635 10.5817 0.398636 10.9233 1.21993L12.9395 6.06735C13.0835 6.41358 13.4091 6.65015 13.7829 6.68012L19.0161 7.09966C19.9027 7.17074 20.2623 8.27725 19.5867 8.85592L15.5996 12.2713C15.3148 12.5153 15.1904 12.8981 15.2774 13.2628L16.4956 18.3695C16.702 19.2348 15.7607 19.9186 15.0016 19.455L10.5213 16.7184C10.2012 16.5229 9.79876 16.5229 9.47875 16.7184L4.9984 19.455C4.2393 19.9186 3.29805 19.2348 3.50444 18.3695L4.72257 13.2628C4.80958 12.8981 4.68521 12.5153 4.40042 12.2713L0.413277 8.85592C-0.26226 8.27725 0.0972674 7.17074 0.983922 7.09966L6.21712 6.68012C6.59091 6.65015 6.91652 6.41358 7.06052 6.06735L9.07668 1.21993Z",fill:"#C4C4C4"}})])})),0),n("p",{staticClass:"comment"},[t._v(t._s(t.comment.comment))])])},h=[],v={props:{comment:{required:!0}}},C=v,b=(n("6037"),Object(i["a"])(C,p,h,!1,null,null,null)),g=b.exports,w={components:{CommentPrev:g},methods:{newComment:function(){this.$router.push("/newcomment")}},computed:{comments:function(){return this.$store.state.comments}}},_=w,y=(n("167f"),Object(i["a"])(_,d,f,!1,null,null,null)),k=y.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-view"},[n("svg",{staticClass:"back-btn",attrs:{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:t.back}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.41421 10L10.7071 16.2929L9.29289 17.7071L0.585785 9L9.29289 0.292892L10.7071 1.70711L4.41421 8H19V10H4.41421Z",fill:"black"}})]),n("p",{staticClass:"header"},[t._v("Оценить")]),n("div",{staticClass:"stars"},t._l(5,(function(e){return n("svg",{staticClass:"star",attrs:{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(n){return t.setRating(e)}}},[n("path",{class:{"fill-star":e<=t.comment.rating},attrs:{d:"M15.0767 1.21993C15.4183 0.398634 16.5817 0.398636 16.9233 1.21993L20.5265 9.883C20.6705 10.2292 20.9961 10.4658 21.3699 10.4958L30.7224 11.2456C31.6091 11.3166 31.9686 12.4232 31.2931 13.0018L24.1674 19.1057C23.8826 19.3496 23.7583 19.7324 23.8453 20.0972L26.0223 29.2236C26.2287 30.0889 25.2874 30.7727 24.5283 30.3091L16.5213 25.4184C16.2012 25.2229 15.7988 25.2229 15.4787 25.4184L7.47169 30.3091C6.71259 30.7727 5.77134 30.0889 5.97773 29.2236L8.15472 20.0972C8.24173 19.7324 8.11736 19.3496 7.83257 19.1057L0.706938 13.0018C0.0314007 12.4232 0.390928 11.3166 1.27758 11.2456L10.6301 10.4958C11.0039 10.4658 11.3295 10.2292 11.4735 9.883L15.0767 1.21993Z",fill:"#C4C4C4"}})])})),0),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.comment.nickname,expression:"comment.nickname",modifiers:{trim:!0}}],staticClass:"bordered-item placeholder",class:{"input-error":t.checked&&!t.comment.nickname},attrs:{placeholder:"Укажите ваш никнейм"},domProps:{value:t.comment.nickname},on:{input:function(e){e.target.composing||t.$set(t.comment,"nickname",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"comment"},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.comment.comment,expression:"comment.comment",modifiers:{trim:!0}}],staticClass:"bordered-item placeholder",class:{"input-error":t.checked&&t.comment.comment.length<20},attrs:{placeholder:"Расскажите, что можно улучшить?"},domProps:{value:t.comment.comment},on:{input:function(e){e.target.composing||t.$set(t.comment,"comment",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("p",{staticClass:"orange info"},[t._v("Минимум 20 символов")])]),n("button",{staticClass:"btn btn-light bordered-item",attrs:{disabled:t.busy},on:{click:t.newComment}},[t._v("Отправить")])])},O=[],M={data:function(){return{comment:{rating:0,nickname:"",comment:"",date:void 0},checked:!1,busy:!1}},methods:{back:function(){this.$router.go(-1)},setRating:function(t){this.comment.rating=t},newComment:function(){var t=this;this.comment.date=new Date,this.busy=!0,this.checked=!0,console.log(this.comment),this.comment.nickname&&this.comment.comment.length>19?this.$store.dispatch("ADD_COMMENT",this.comment).then((function(){return t.back()})).catch((function(){t.busy=!1})):this.busy=!1}}},x=M,j=(n("f9e8"),Object(i["a"])(x,L,O,!1,null,null,null)),T=j.exports;o["a"].use(u["a"]);var D=new u["a"]({mode:"history",base:"/frontend-test/",routes:[{path:"/",name:"CommentsList",component:k},{path:"/newcomment",name:"NewComment",component:T}]}),E=(n("55dd"),n("75fc")),$=n("2f62"),P=n("bc3a"),N=n.n(P);o["a"].use($["a"]);var S=new $["a"].Store({state:{comments:[],url:"https://jsonplaceholder.typicode.com"},mutations:{ADD_COMMENT:function(t,e){var n;(n=t.comments).push.apply(n,Object(E["a"])(e)),t.comments.sort((function(t,e){return e.date-t.date}))}},actions:{ADD_COMMENT:function(t,e){return new Promise((function(n,o){N()({method:"POST",url:"".concat(t.state.url,"/posts"),data:e,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(o){t.commit("ADD_COMMENT",[e]),n()})).catch((function(t){console.error(t),o(t)}))}))},GET_COMMENTS:function(t,e){N()({method:"GET",url:"".concat(t.state.url,"/posts"),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var n=[{nickname:"Meromen",comment:"Отличный товар, но упаковка не очень качественная",rating:4,date:new Date(2016,0,3)},{nickname:"Code7unner",comment:"Ужас, никогда не покупайте здесь, кидают!!!!!",rating:1,date:new Date(2012,2,3)},{nickname:"Senna_Mart",comment:"Лучший магазин, что я встречала",rating:5,date:new Date(2015,0,7)}];t.commit("ADD_COMMENT",n)})).catch((function(t){console.error(t)}))}}});o["a"].config.productionTip=!1,new o["a"]({router:D,store:S,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("e332"),r=n.n(o);r.a},6037:function(t,e,n){"use strict";var o=n("70f0"),r=n.n(o);r.a},"70f0":function(t,e,n){},a98d:function(t,e,n){},bfcc:function(t,e,n){},e332:function(t,e,n){},f9e8:function(t,e,n){"use strict";var o=n("bfcc"),r=n.n(o);r.a}});